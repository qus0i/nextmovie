<!DOCTYPE html>
<html lang="en">
  <html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Your Favorite Books</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../All_CSS/main.css">

  <style>
    body {
      margin: 0;
      background-color: #0B0804;
      color: #d6aa68;
      font-family: 'Playfair Display', serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    main {
      flex: 1 0 auto;
      margin-top:10px;
      margin-bottom: 80px;
    }
   .h{
  font-family: 'Playfair Display', serif;
  font-size: clamp(2.5rem, 5vw, 4.5rem) !important ; /* Responsive font scaling */
  color: var(--color-primary-light);
  text-shadow: 0 2px 5px rgba(11, 8, 4, 0.8);
  font-weight: bold;
 
    }
        .book-search-container {
      position: relative;
      text-align: center;
      padding: 100px 20px 40px;
      color: #f4c28e;
      margin-top: 6.5rem;
      z-index: 1000;
    }

    .book-search-container h1 {
      font-size: 48px;
      font-weight: 400;
      margin-bottom: 30px;
    }

    .search-box {
      display: flex;
      align-items: center;
      justify-content: start;
      background-color: #e8c7aa;
      padding: 12px 18px;
      width: 90%;
      max-width: 600px;
      margin: 0 auto;
      border-radius: 4px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    .search-icon {
      font-size: 18px;
      margin-right: 12px;
      color: #3c2b1f;
    }

    .search-box input[type="text"] {
      border: none;
      outline: none;
      background: transparent;
      font-size: 16px;
      flex: 1;
      color: #3c2b1f;
    }

    .search-box input::placeholder {
      color: #8d6e53;
      
    }
    .container {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 1rem;
    }
    .book-list > div {
      background: #2b241c;
      padding: 0;
      height: 450px;
      margin-bottom: 1.5rem;
      border-radius: 8px;
      display: flex;
      position: relative;
      overflow: hidden;
      color: #d6aa68;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }
    .book-image-container {
      width: 280px;
      height: 100%;
      background-color: #f5f5f5;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      border-radius: 8px 0 0 8px;
      cursor: pointer;
    }
    .book-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }
    .book-image:hover {
      transform: scale(1.03);
    }
    .book-info {
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      padding: 1.5rem;
      padding-right: 160px;
    }
    .book-title {
      font-weight: 700;
      font-size: 1.8rem;
      color: #F9C172;
      margin-bottom: 0.5rem;
      font-family: 'Georgia', serif;
      letter-spacing: 0.5px;
    }
    .book-author {
      font-size: 1.1rem;
      color: #c2a058;
      margin-bottom: 1.5rem;
      font-style: italic;
      position: relative;
      padding-left: 1.5rem;
    }
    .book-author:before {
      content: "â€”";
      position: absolute;
      left: 0;
    }
    .book-description {
      font-size: 1.05rem;
      color: #c4ad76;
      line-height: 1.7;
      text-align: justify;
      overflow-y: auto;
      max-height: 280px;
      padding-right: 1rem;
    }
    .book-description::-webkit-scrollbar {
      width: 6px;
    }
    .book-description::-webkit-scrollbar-thumb {
      background-color: #d6aa68;
      border-radius: 3px;
    }
    .right-controls {
      position: absolute;
      bottom: 20px;
      right: 20px;
    }
    .control-wrapper {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      gap: 10px;
    }
    .button-row {
      display: flex;
      flex-direction: row;
      gap: 12px;
    }
    .button-row button {
      background: none;
      border: none;
      cursor: pointer;
      padding: 0.4rem;
      transition: all 0.3s;
      border-radius: 50%;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .button-row button:hover {
      background-color: rgba(214, 170, 104, 0.1);
      transform: scale(1.1);
    }
    .button-row svg {
      width: 20px;
      height: 20px;
      fill: #d6aa68;
    }
    .rating-stars {
      display: flex;
      gap: 4px;
      margin-bottom: 0.5rem;
    }
    .star {
      fill: #F9C172;
    }
    .star.empty {
      fill: transparent;
      stroke: #d6aa68;
      stroke-width: 1.5;
    }
    .pagination {
      display: flex;
      justify-content: center;
      margin-top: 2rem;
      align-items: center;
    }
    .pagination button {
      background-color: #2b241c;
      color: #d6aa68;
      border: 1px solid #d6aa68;
      padding: 0.5rem 1rem;
      margin: 0 0.25rem;
      cursor: pointer;
      border-radius: 4px;
      transition: all 0.3s;
      min-width: 40px;
    }
    .pagination button:hover {
      background-color: #d6aa68;
      color: #0B0804;
    }
    .pagination button.active {
      background-color: #d6aa68;
      color: #0B0804;
      font-weight: bold;
    }
    .pagination button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .pagination span.ellipsis {
      margin: 0 0.5rem;
      color: #d6aa68;
    }
    .custom-footer {
      background-color: #1a1611;
      color: #d6aa68;
      padding: 2rem 0;
      margin-top: auto;
    }
    .footer-title {
      color: #F9C172;
      margin-bottom: 1rem;
      font-size: 1.2rem;
      font-weight: 600;
    }
    .footer-links {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    .footer-links a {
      color: #c2a058;
      text-decoration: none;
      transition: color 0.3s;
    }
    .footer-links a:hover {
      color: #F9C172;
    }
    .footer-bottom {
      margin-top: 2rem;
      padding-top: 1rem;
      border-top: 1px solid #2b241c;
    }
    .nav-bg {
      background-color: rgba(11, 8, 4, 0.9) !important;
      backdrop-filter: blur(10px);
    }
    .all-nav {
      color: #d6aa68 !important;
      transition: color 0.3s;
    }
    .all-nav:hover {
      color: #F9C172 !important;
    }
    .nav-cr {
      border-color: #d6aa68 !important;
    }
    .menu-icon svg {
      color: #d6aa68;
    }
    .background1{
    position: absolute;
    top: 0;
    left: 0;
    background-size: cover;
    background-position: center center;
    align-items: center;
    justify-content:center;
    width: 100%;
    height: 100%;
    background-image: url('../All_IMAGES/Banner.png');
    filter: blur(8px) brightness(0.6);
    z-index: 0;
    }

  </style>
</head>
<body>
 <section class="hero-section position-relative w-100" style="height: 600px;">
        <div class="background1 w-100 h-100" style="background-image: url('../All_IMAGES/Banner.png'); filter: blur(8px) brightness(0.6); z-index: 0;"></div>
  <div class="book-search-container">

  <h1 class="h">Your Favorite Books</h1>
    <div class="search-box">
      <span class="search-icon"><svg
            class="book-icon"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 60 60"
            width="24"
            height="24"
            aria-hidden="true"
            focusable="false"
          >
          <path d="M57,6H56V3a3,3,0,0,0-3-3H35a6,6,0,0,0-5,2.687A6,6,0,0,0,25,0H7A3,3,0,0,0,4,3V6H3A3,3,0,0,0,0,9V48a3,3,0,0,0,3,3H18.721a20.873,20.873,0,0,0,23.814.529l7.216,7.216a4.285,4.285,0,0,0,6.006.012,4.351,4.351,0,0,0,0-6L54,51h3a3,3,0,0,0,3-3V9A3,3,0,0,0,57,6ZM50.408,42H53a2.966,2.966,0,0,0,1-.184V44a1,1,0,0,1-1,1H48.854A20.867,20.867,0,0,0,50.408,42ZM35,2H53a1,1,0,0,1,1,1V39a1,1,0,0,1-1,1H51.116A20.975,20.975,0,0,0,31,13V6A4,4,0,0,1,35,2ZM6,3A1,1,0,0,1,7,2H25a4,4,0,0,1,4,4v7.1A20.967,20.967,0,0,0,10.884,40H7a1,1,0,0,1-1-1ZM6,41.816A2.966,2.966,0,0,0,7,42h4.592a20.867,20.867,0,0,0,1.554,3H7a1,1,0,0,1-1-1ZM3,49a1,1,0,0,1-1-1V9A1,1,0,0,1,3,8H4V44a3,3,0,0,0,3,3h7.539a21.256,21.256,0,0,0,1.792,2Zm9-15A19,19,0,1,1,31,53,19.021,19.021,0,0,1,12,34ZM54.976,55.755a2.257,2.257,0,0,1-.639,1.594,2.283,2.283,0,0,1-3.16-.006l-7.009-7.009a21.173,21.173,0,0,0,3.171-3.171l7,7A2.234,2.234,0,0,1,54.976,55.755ZM58,48a1,1,0,0,1-1,1H52l-2-2h3a3,3,0,0,0,3-3V8h1a1,1,0,0,1,1,1Z"/><path d="M36.312,17.847a1,1,0,0,0-.625,1.9A15.011,15.011,0,1,1,31,19a1,1,0,0,0,0-2,16.985,16.985,0,1,0,5.312.847Z"/>

            <!-- SVG paths omitted for brevity -->
          </svg></span>
      <input type="text" placeholder="Find book you like" />
    </div>
  </div>
</section>
  <!-- Navbar -->
 <div id="navbar-placeholder"></div>
  <script>
  fetch('nav.html')
    .then(response => response.text())
    .then(data => document.getElementById('navbar-placeholder').innerHTML = data);
  </script>
  <main>
    <div class="container">
      <div id="bookList" class="book-list"></div>
      <div class="pagination" id="pagination">
        <button id="prevBtn" disabled>Previous</button>
        <div id="pageNumbers"></div>
        <button id="nextBtn">Next</button>
      </div>
    </div>
  </main>

  <!-- Footer -->
 <div id="footer-placeholder"></div>
  <script>
    fetch('footer.html')
      .then(response => response.text())
      .then(html => {
        const temp = document.createElement('div');
        temp.innerHTML = html;
        const footerEl = temp.querySelector('footer');
        document.getElementById('footer-placeholder').appendChild(footerEl);
      })
      .catch(err => console.error('Error loading footer:', err));
  </script>

  <!-- Bootstrap 5 JS Bundle (includes Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    const booksPerPage = 5 ;
    let currentPage = 1;
    let totalPages = 1;
    let books = [];
    const bookListEl = document.getElementById('bookList');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const pageNumbersEl = document.getElementById('pageNumbers');

    async function fetchBooks(query) {
      const url = `https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(query)}&maxResults=40`;
      try {
        const response = await fetch(url);
        const data = await response.json();
        if (data.items) {
          return data.items.map(item => {
            const info = item.volumeInfo;
            return {
              id: item.id,
              title: info.title || "No title",
              author: info.authors ? info.authors.join(', ') : "Unknown author",
              image: info.imageLinks ? info.imageLinks.thumbnail.replace('http://', 'https://') : 'https://via.placeholder.com/120x150?text=No+Image',
              rating: info.averageRating ? Math.round(info.averageRating) : Math.floor(Math.random() * 3) + 3,
              description: info.description ? 
                info.description.replace(/(<([^>]+)>)/gi, "").substring(0, 300) + (info.description.length > 300 ? "..." : "") : 
                "No description available."
            };
          }).filter(book => book.image !== 'https://via.placeholder.com/120x150?text=No+Image');
        }
        return [];
      } catch (err) {
        console.error("Error fetching books:", err);
        return [];
      }
    }

    function setupToggleButtons() {
      const toggleButtons = [
        {
          id: 'library-toggle-button',
          defaultIcon: 'library-icon-default',
          activeIcon: 'library-icon-active'
        },
        {
          id: 'openCover-toggle-button',
          defaultIcon: 'openCover-icon-default',
          activeIcon: 'openCover-icon-active'
        },
        {
          id: 'closedCover-toggle-button',
          defaultIcon: 'closedCover-icon-default',
          activeIcon: 'closedCover-icon-active'
        },
        {
          id: 'dustyShelves-toggle-button',
          defaultIcon: 'dustyShelves-icon-default',
          activeIcon: 'dustyShelves-icon-active'
        }
      ];

      toggleButtons.forEach(buttonConfig => {
        const button = document.getElementById(buttonConfig.id);
        if (button) {
          button.addEventListener('click', function() {
            const isActive = this.classList.toggle('active');
            
            // Update tooltip
            const newTooltip = isActive ? 
              this.getAttribute('data-tooltip-active') : 
              this.getAttribute('data-tooltip-inactive');
            this.setAttribute('data-tooltip', newTooltip);
            
            // Toggle SVG icons
            document.getElementById(buttonConfig.defaultIcon).classList.toggle('hidden', isActive);
            document.getElementById(buttonConfig.activeIcon).classList.toggle('hidden', !isActive);
          });
        }
      });
    }
    function renderBooks() {
      const start = (currentPage - 1) * booksPerPage;
      const end = start + booksPerPage;
      const currentBooks = books.slice(start, end);
      bookListEl.innerHTML = '';

      if (currentBooks.length === 0) {
        bookListEl.innerHTML = '<p class="text-center">No books found. Please try another search.</p>';
        return;
      }

      currentBooks.forEach(book => {
        const bookDiv = document.createElement('div');

        const imgContainer = document.createElement('div');
        imgContainer.className = 'book-image-container';
        imgContainer.style.cursor = 'pointer';
        imgContainer.addEventListener('click', () => {
          // Store book data in localStorage before redirecting
          localStorage.setItem('selectedBook', JSON.stringify(book));
          // Redirect to book details page
          window.location.href = 'book-detail.html';
        });

        const img = document.createElement('img');
        img.src = book.image;
        img.alt = book.title;
        img.className = 'book-image';
        img.onerror = () => { img.src = 'https://via.placeholder.com/120x150?text=No+Image'; };
        imgContainer.appendChild(img);

        const infoDiv = document.createElement('div');
        infoDiv.className = 'book-info';
        
        // Title
        const titleEl = document.createElement('h2');
        titleEl.className = 'book-title';
        titleEl.textContent = book.title;
        
        // Author
        const authorEl = document.createElement('p');
        authorEl.className = 'book-author';
        authorEl.textContent = book.author;
        
        // Description
        const descEl = document.createElement('p');
        descEl.className = 'book-description';
        descEl.textContent = book.description;
        
        infoDiv.appendChild(titleEl);
        infoDiv.appendChild(authorEl);
        infoDiv.appendChild(descEl);

        const rightControls = document.createElement('div');
        rightControls.className = 'right-controls';

        const controlWrapper = document.createElement('div');
        controlWrapper.className = 'control-wrapper';

        // Star Rating
        const starRating = document.createElement('div');
        starRating.className = 'rating-stars';
   for (let i = 1; i <= 5; i++) {
          const star = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
          star.setAttribute('viewBox', '0 0 24 24');
          star.setAttribute('width', '20');
          star.setAttribute('height', '20');
          star.classList.add('star');
          if (i > book.rating) star.classList.add('empty');
          const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
          path.setAttribute('d', 'M12 .587l3.668 7.571L24 9.75l-6 5.849L19.335 24 12 20.01 4.665 24 6 15.599 0 9.75l8.332-1.592z');
          star.appendChild(path);
          starRating.appendChild(star);
        }
  
        // Action Buttons
        const buttonRow = document.createElement('div');
        buttonRow.className = 'd-flex row align-items-center justify-content-start';
        buttonRow.innerHTML = `
             
          <form class="mt-auto p-2" action=" " method="POST">
       <button type="button" class="heart-button-card mr-2" id="favorite-button" >
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="50" height="50">
                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41 0.81 4.5 2.09 C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5 c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
              </svg>
            </button>
            <button type="button" class="library-icon-wrapper mr-2" id="library-toggle-button" name="libraryButton" value="submit" data-tooltip-inactive="Add to My Library" data-tooltip-active="Remove from My Library" data-tooltip="Add to My Library">
              <!-- Inactive Icon -->
              <svg id="library-icon-default" class="library-icon" fill="currentColor" height="800px" width="800px" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <g transform="translate(1 1)">
                  <g>
                    <g>
                      <path d="M186.736 400.064H75.792c-14.512 0 -25.6 -11.088 -25.6 -25.6s11.088 -25.6 25.6 -25.6h196.272c5.12 0 8.528 -3.408 8.528 -8.528s-3.408 -8.528 -8.528 -8.528H75.792c-23.888 0 -42.672 18.768 -42.672 42.672s18.768 42.672 42.672 42.672h110.928c5.12 0 8.528 -3.408 8.528 -8.528s-3.408 -8.528 -8.528 -8.528"/>
                      <path d="M306.192 400.064h-76.8c-5.12 0 -8.528 3.408 -8.528 8.528s3.408 8.528 8.528 8.528h76.8c5.12 0 8.528 -3.408 8.528 -8.528s-3.408 -8.528 -8.528 -8.528"/>
                      <path d="M84.336 365.936c-5.12 0 -8.528 3.408 -8.528 8.528s3.408 8.544 8.528 8.544h51.2c5.12 0 8.528 -3.408 8.528 -8.528s-3.408 -8.528 -8.528 -8.528z"/>
                      <path d="M348.864 255.008H186.736c-5.12 0 -8.528 3.408 -8.528 8.528s3.408 8.528 8.528 8.528h162.128c5.12 0 8.528 -3.408 8.528 -8.528s-3.408 -8.528 -8.528 -8.528"/>
                      <path d="M306.192 92.864h-102.384c-5.12 0 -8.528 3.408 -8.528 8.528s3.408 8.528 8.528 8.528h102.4c5.12 0 8.528 -3.408 8.528 -8.528s-3.408 -8.528 -8.528 -8.528"/>
                      <path d="M425.664 169.664H186.736c-5.12 0 -8.528 3.408 -8.528 8.528s3.408 8.528 8.528 8.528h238.928c5.12 0 8.528 -3.408 8.528 -8.528s-3.408 -8.528 -8.528 -8.528"/>
                      <path d="M502.464 434.192h-11.68a128 128 0 0 1 -7.376-17.072h2c5.12 0 8.528 -3.408 8.528 -8.528s-3.408 -8.528 -8.528 -8.528h-6.736a128 128 0 0 1 -2.368-17.056h9.936c4.272 0 8.528 -3.408 8.528 -8.528s-3.408 -8.528 -8.528 -8.528h-9.936a128 128 0 0 1 2.352-17.072h6.736c5.12 0 8.528 -3.408 8.528 -8.528s-3.408 -8.528 -8.528 -8.528h-2a128 128 0 0 1 7.376-17.072h11.68c5.12 0 8.528 -3.408 8.528 -8.528s-3.408 -8.528 -8.528 -8.528h-8.528v-76.8c0 -5.12 -3.408 -8.528 -8.528 -8.528H468.32v-76.8c0 -5.12 -3.408 -8.528 -8.528 -8.528h-8.528V67.264c0 -5.12 -3.408 -8.528 -8.528 -8.528H24.608c-5.12 0 -8.528 3.408 -8.528 8.528v68.272c0 5.12 3.408 8.528 8.528 8.528h17.072v68.272H7.536c-5.12 0 -8.528 3.408 -8.528 8.528v85.328c0 5.12 3.408 8.528 8.528 8.528h19.808a76.48 76.48 0 0 0 -28.352 59.744 76.48 76.48 0 0 0 76.8 76.8h426.672c5.12 0 8.528 -3.408 8.528 -8.528s-3.408 -8.528 -8.528 -8.528m-25.6 -136.528h-34.128v-68.272h34.128zm-68.272 0v-68.272h17.072v68.272zm-273.072 0v-68.272h256v68.272zm-51.2 -68.272h34.128v68.272H84.336zm25.6 -85.328h17.088v68.272H109.936zm42.672 -17.072V75.792h196.272v51.216zm281.6 85.328H144.064V144.064h307.2v68.272zm0 -85.328h-34.128V75.792h34.128zm-51.184 -51.216v51.216h-17.072V75.792zm-247.472 0v51.216H101.408V75.792zm-102.4 0h51.2v51.216h-51.2zm25.6 68.272h34.128v68.272H58.736zm-42.672 85.344h51.2v68.272h-51.2zm409.6 204.8H75.792c-33.28 0 -59.728 -26.448 -59.728 -59.728s26.464 -59.744 59.728 -59.744h395.952a144 144 0 0 0 -6.448 17.072h-159.104c-5.12 0 -8.528 3.408 -8.528 8.528s3.408 8.528 8.528 8.528h155.008a144 144 0 0 0 -2 17.072h-32.688l-0.432 0.016 -0.432 -0.016H178.192c-5.12 0 -8.528 3.408 -8.528 8.528s3.424 8.544 8.528 8.544h247.472l0.432 -0.016 0.432 0.016h32.688q0.496 8.576 2 17.072h-112.352c-5.12 0 -8.528 3.408 -8.528 8.528s3.408 8.528 8.528 8.528h116.432a144 144 0 0 0 6.448 17.072z"/>
                    </g>
                  </g>
                </g>
              </svg>
              <!-- Active Icon -->
              <svg id="library-icon-active" class="library-icon hidden" fill="black" height="800px" width="800px" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <g transform="translate(1 1)">
                  <path style="fill:#f9c172;" d="M441.027,374.467c0-24.747,6.827-47.787,18.773-68.267h-256H101.4 c-37.547,0-68.267,30.72-68.267,68.267s30.72,68.267,68.267,68.267h102.4h256C447.853,422.253,441.027,399.213,441.027,374.467"/>
                  <path style="fill:#E7D6C4;" d="M33.133,374.467c0-37.547,30.72-68.267,68.267-68.267H75.8c-37.547,0-68.267,30.72-68.267,68.267 s30.72,68.267,68.267,68.267h25.6C63.853,442.733,33.133,412.013,33.133,374.467"/>
                  <path style="fill:#c17b36;" d="M485.4,306.2h-25.6c-11.947,20.48-18.773,43.52-18.773,68.267c0,24.747,6.827,47.787,18.773,68.267 h25.6c-11.947-20.48-18.773-43.52-18.773-68.267C466.627,349.72,473.453,326.68,485.4,306.2"/>
                  <polygon style="fill:#f9c172;" points="7.533,306.2 485.4,306.2 485.4,220.867 7.533,220.867 	"/>
                  <polygon style="fill:#E7D6C4;" points="7.533,306.2 33.133,306.2 33.133,220.867 7.533,220.867 	"/>
                  <g>
                      <polygon style="fill:#f9c172;" points="50.2,220.867 459.8,220.867 459.8,135.533 50.2,135.533 		"/>
                      <polygon style="fill:#f9c172;" points="24.6,135.533 442.733,135.533 442.733,67.267 24.6,67.267 		"/>
                  </g>
                  <g>
                      <polygon style="fill:#E7D6C4;" points="24.6,135.533 50.2,135.533 50.2,67.267 24.6,67.267 		"/>
                      <polygon style="fill:#E7D6C4;" points="50.2,220.867 75.8,220.867 75.8,135.533 50.2,135.533 		"/>
                  </g>
                  <g>
                      <polygon style="fill:#c17b36;" points="459.8,306.2 485.4,306.2 485.4,220.867 459.8,220.867 		"/>
                      <polygon style="fill:#c17b36;" points="417.133,135.533 442.733,135.533 442.733,67.267 417.133,67.267 		"/>
                      <polygon style="fill:#c17b36;" points="434.2,220.867 459.8,220.867 459.8,135.533 434.2,135.533 		"/>
                  </g>
                  <g>
                      <polygon style="fill:#c17b36;" points="75.8,306.2 127,306.2 127,220.867 75.8,220.867 		"/>
                      <polygon style="fill:#c17b36;" points="400.067,306.2 434.2,306.2 434.2,220.867 400.067,220.867 		"/>
                      <polygon style="fill:#c17b36;" points="92.867,135.533 144.067,135.533 144.067,67.267 92.867,67.267 		"/>
                      <polygon style="fill:#c17b36;" points="357.4,135.533 391.533,135.533 391.533,67.267 357.4,67.267 		"/>
                      <polygon style="fill:#c17b36;" points="101.4,220.867 135.533,220.867 135.533,135.533 101.4,135.533 		"/>
                  </g>
                  <path d="M485.4,451.267H75.8c-42.667,0-76.8-34.133-76.8-76.8s34.133-76.8,76.8-76.8h409.6c3.413,0,5.973,1.707,7.68,4.267 c1.707,2.56,1.707,5.973,0,8.533c-11.093,19.627-17.067,41.813-17.067,64c0,22.187,5.973,44.373,17.067,64 c1.707,2.56,1.707,5.973,0,8.533C491.373,449.56,488.813,451.267,485.4,451.267z M75.8,314.733 c-33.28,0-59.733,26.453-59.733,59.733S42.52,434.2,75.8,434.2h395.947c-8.533-18.773-12.8-39.253-12.8-59.733 s4.267-40.96,12.8-59.733H75.8z"/>
                  <path d="M425.667,383H178.2c-5.12,0-8.533-3.413-8.533-8.533c0-5.12,3.413-8.533,8.533-8.533h247.467 c5.12,0,8.533,3.413,8.533,8.533C434.2,379.587,430.787,383,425.667,383z"/>
                  <path d="M186.733,417.133H75.8c-23.893,0-42.667-18.773-42.667-42.667c0-23.893,18.773-42.667,42.667-42.667h196.267 c5.12,0,8.533,3.413,8.533,8.533s-3.413,8.533-8.533,8.533H75.8c-14.507,0-25.6,11.093-25.6,25.6c0,14.507,11.093,25.6,25.6,25.6 h110.933c5.12,0,8.533,3.413,8.533,8.533C195.267,413.72,191.853,417.133,186.733,417.133z"/>
                  <path d="M485.4,348.867H306.2c-5.12,0-8.533-3.413-8.533-8.533c0-5.12,3.413-8.533,8.533-8.533h179.2 c5.12,0,8.533,3.413,8.533,8.533S490.52,348.867,485.4,348.867z"/>
                  <path d="M306.2,417.133h-76.8c-5.12,0-8.533-3.413-8.533-8.533c0-5.12,3.413-8.533,8.533-8.533h76.8 c5.12,0,8.533,3.413,8.533,8.533C314.733,413.72,311.32,417.133,306.2,417.133z"/>
                  <path d="M485.4,417.133H348.867c-5.12,0-8.533-3.413-8.533-8.533c0-5.12,3.413-8.533,8.533-8.533H485.4 c5.12,0,8.533,3.413,8.533,8.533C493.933,413.72,490.52,417.133,485.4,417.133z"/>
                  <path d="M135.533,383h-51.2c-5.12,0-8.533-3.413-8.533-8.533c0-5.12,3.413-8.533,8.533-8.533h51.2c5.12,0,8.533,3.413,8.533,8.533 C144.067,379.587,140.653,383,135.533,383z"/>
                  <path d="M485.4,314.733H7.533C2.413,314.733-1,311.32-1,306.2v-85.333c0-5.12,3.413-8.533,8.533-8.533H485.4 c5.12,0,8.533,3.413,8.533,8.533V306.2C493.933,311.32,490.52,314.733,485.4,314.733z M16.067,297.667h460.8V229.4h-460.8V297.667z "/>
                  <path d="M127,314.733H75.8c-5.12,0-8.533-3.413-8.533-8.533v-85.333c0-5.12,3.413-8.533,8.533-8.533H127 c5.12,0,8.533,3.413,8.533,8.533V306.2C135.533,311.32,132.12,314.733,127,314.733z M84.333,297.667h34.133V229.4H84.333V297.667z"/>
                  <path d="M348.867,272.067H186.733c-5.12,0-8.533-3.413-8.533-8.533c0-5.12,3.413-8.533,8.533-8.533h162.133 c5.12,0,8.533,3.413,8.533,8.533C357.4,268.653,353.987,272.067,348.867,272.067z"/>
                  <path d="M434.2,314.733h-34.133c-5.12,0-8.533-3.413-8.533-8.533v-85.333c0-5.12,3.413-8.533,8.533-8.533H434.2 c5.12,0,8.533,3.413,8.533,8.533V306.2C442.733,311.32,439.32,314.733,434.2,314.733z M408.6,297.667h17.067V229.4H408.6V297.667z"/>
                  <path d="M442.733,144.067H24.6c-5.12,0-8.533-3.413-8.533-8.533V67.267c0-5.12,3.413-8.533,8.533-8.533h418.133 c5.12,0,8.533,3.413,8.533,8.533v68.267C451.267,140.653,447.853,144.067,442.733,144.067z M33.133,127H434.2V75.8H33.133V127z"/>
                  <path d="M144.067,144.067h-51.2c-5.12,0-8.533-3.413-8.533-8.533V67.267c0-5.12,3.413-8.533,8.533-8.533h51.2 c5.12,0,8.533,3.413,8.533,8.533v68.267C152.6,140.653,149.187,144.067,144.067,144.067z M101.4,127h34.133V75.8H101.4V127z"/>
                  <path d="M306.2,109.933H203.8c-5.12,0-8.533-3.413-8.533-8.533c0-5.12,3.413-8.533,8.533-8.533h102.4 c5.12,0,8.533,3.413,8.533,8.533C314.733,106.52,311.32,109.933,306.2,109.933z"/>
                  <path d="M391.533,144.067H357.4c-5.12,0-8.533-3.413-8.533-8.533V67.267c0-5.12,3.413-8.533,8.533-8.533h34.133 c5.12,0,8.533,3.413,8.533,8.533v68.267C400.067,140.653,396.653,144.067,391.533,144.067z M365.933,127H383V75.8h-17.067V127z"/>
                  <path d="M459.8,229.4H50.2c-5.12,0-8.533-3.413-8.533-8.533v-85.333c0-5.12,3.413-8.533,8.533-8.533h409.6 c5.12,0,8.533,3.413,8.533,8.533v85.333C468.333,225.987,464.92,229.4,459.8,229.4z M58.733,212.333h392.533v-68.267H58.733 V212.333z"/>
                  <path d="M135.533,229.4H101.4c-5.12,0-8.533-3.413-8.533-8.533v-85.333c0-5.12,3.413-8.533,8.533-8.533h34.133 c5.12,0,8.533,3.413,8.533,8.533v85.333C144.067,225.987,140.653,229.4,135.533,229.4z M109.933,212.333H127v-68.267h-17.067 V212.333z"/>
                  <path d="M425.667,186.733H186.733c-5.12,0-8.533-3.413-8.533-8.533c0-5.12,3.413-8.533,8.533-8.533h238.933 c5.12,0,8.533,3.413,8.533,8.533C434.2,183.32,430.787,186.733,425.667,186.733z"/>
                  <path d="M502.467,314.733h-76.8c-5.12,0-8.533-3.413-8.533-8.533s3.413-8.533,8.533-8.533h76.8c5.12,0,8.533,3.413,8.533,8.533 S507.587,314.733,502.467,314.733z"/>
                  <path d="M502.467,451.267h-76.8c-5.12,0-8.533-3.413-8.533-8.533c0-5.12,3.413-8.533,8.533-8.533h76.8 c5.12,0,8.533,3.413,8.533,8.533C511,447.853,507.587,451.267,502.467,451.267z"/>
                  <path d="M486.253,383H426.52c-5.12,0-8.533-3.413-8.533-8.533c0-5.12,3.413-8.533,8.533-8.533h59.733 c5.12,0,8.533,3.413,8.533,8.533C494.787,379.587,490.52,383,486.253,383z"/>
              </g>
              </svg>
            </button>
            <!--opencover-->
            <button type="button" class="openCover-icon-wrapper mr-2" id="openCover-toggle-button" data-tooltip-inactive="Add to My Open Cover List" data-tooltip-active="Remove from My Open Cover List" data-tooltip="Add to My Open Cover List">
              <!-- Default Icon -->
              <svg id="openCover-icon-default" class="openCover-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60" x="0px" y="0px" fill="currentColor">
                <path d="M49,0H42a1.993,1.993,0,0,0-1.722,1H24.184a3.186,3.186,0,0,0-2.3,1h-4.16A1.993,1.993,0,0,0,16,1H12A5.006,5.006,0,0,0,7,6V55a5.006,5.006,0,0,0,5,5H46a3,3,0,0,0,3-3V53a3,3,0,0,0,3-3V43a1.993,1.993,0,0,0-1-1.722V33.722A1.993,1.993,0,0,0,52,32V21a1.993,1.993,0,0,0-1-1.722V11.722A1.993,1.993,0,0,0,52,10V3A3,3,0,0,0,49,0ZM42,2h7a1,1,0,0,1,1,1l0,7H48.414L42,3.586ZM18,4h2.471A2.984,2.984,0,0,0,20,5.605V7.586L18.293,5.879A1,1,0,0,1,18,5.172ZM16.879,7.293l2.21,2.21A1.721,1.721,0,0,0,22,8.3V5.605a.994.994,0,0,1,.168-.554l1.008-1.512A1.205,1.205,0,0,1,24.184,3H40v.586A2.015,2.015,0,0,0,40.586,5L47,11.414A2.015,2.015,0,0,0,48.414,12H49v7a3,3,0,0,0-2.871,2.129A3,3,0,0,0,44,24v5a3,3,0,0,0,2.129,2.871A3,3,0,0,0,49,34v7h-.586A2.015,2.015,0,0,0,47,41.586L40.586,48A2.015,2.015,0,0,0,40,49.414V50H34V45a1,1,0,0,0-2,0v5H23V48a1,1,0,0,0-2,0v2H19V45a1,1,0,0,0-2,0v5H13V3h3V5.172A2.978,2.978,0,0,0,16.879,7.293ZM50,32H49a1,1,0,0,1-1-1,1,1,0,0,0-1-1,1,1,0,0,1-1-1V24a1,1,0,0,1,1-1,1,1,0,0,0,1-1,1,1,0,0,1,1-1l1,0ZM11,3.184V50.1a5,5,0,0,0-2,.923V6A3,3,0,0,1,11,3.184ZM47,57a1,1,0,0,1-1,1H12a3,3,0,1,1,0-6H40.278A1.993,1.993,0,0,0,42,53h5Zm3-7a1,1,0,0,1-1,1H42V49.414L48.414,43H50Z"/>
                <path d="M19.615,27.063a3,3,0,0,1,2.322,2.324A1.992,1.992,0,0,0,23.893,31H36.107a1.99,1.99,0,0,0,1.955-1.613,3.005,3.005,0,0,1,2.325-2.325A1.992,1.992,0,0,0,42,25.107V18.893a1.99,1.99,0,0,0-1.613-1.955,3.005,3.005,0,0,1-2.325-2.325A1.992,1.992,0,0,0,36.107,13H23.893a1.994,1.994,0,0,0-1.956,1.615,3,3,0,0,1-2.324,2.323A1.99,1.99,0,0,0,18,18.893v6.214A1.994,1.994,0,0,0,19.615,27.063ZM20.02,18.9a5.023,5.023,0,0,0,2.73-1.588A4.947,4.947,0,0,0,23.893,15l12.211.021a5.01,5.01,0,0,0,1.146,2.287,5.087,5.087,0,0,0,2.75,1.6l-.022,6.2A4.986,4.986,0,0,0,36.107,29L23.9,28.98a5.023,5.023,0,0,0-1.588-2.73A4.947,4.947,0,0,0,20,25.107Z"/>
                <path d="M41,54H36a1,1,0,0,0,0,2h5a1,1,0,0,0,0-2Z"/>
                <path d="M32,54H16a1,1,0,0,0,0,2H32a1,1,0,0,0,0-2Z"/>
              </svg>   
              <!-- Active Icon (initially hidden) -->
              <svg id="openCover-icon-active" class="openCover-icon hidden" fill="currentColor" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier"> 
                  <title>book</title> 
                  <path d="M15 25.875v-19.625c0 0-2.688-2.25-6.5-2.25s-6.5 2-6.5 2v19.875c0 0 2.688-1.938 6.5-1.938s6.5 1.938 6.5 1.938zM29 25.875v-19.625c0 0-2.688-2.25-6.5-2.25s-6.5 2-6.5 2v19.875c0 0 2.688-1.938 6.5-1.938s6.5 1.938 6.5 1.938zM31 8h-1v19h-12v1h-5v-1h-12v-19h-1v20h12v1h7.062l-0.062-1h12v-20z"></path> 
                </g>
              </svg>
            </button>
            <!--closed cover -->
            <button type="button" class="closedCover-icon-wrapper mr-2" id="closedCover-toggle-button" data-tooltip-inactive="Add to MY Closed Cover List" data-tooltip-active="Remove from My Closed Cover List" data-tooltip="Add to My Closed Cover List">
              <!-- Default Icon (visible by default) -->
              <svg id="closedCover-icon-default" class="closedCover-icon" fill="currentColor" viewBox="0 0 24 24" width="50" height="50">
                <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100">
                  <path d="m66.363 31.301c-2.043-1.8594-5.207-1.707-7.0625 0.33594l-14.301 15.738-4.3008-4.7305c-1.8555-2.0469-5.0195-2.1953-7.0625-0.33984-2.043 1.8555-2.1953 5.0195-0.33594 7.0625l5.293 5.8281c3.3984 3.7383 9.4141 3.7383 12.812 0l15.293-16.832c1.8594-2.043 1.707-5.207-0.33594-7.0625zm-5.582 1.6836c1.1133-1.2266 3.0117-1.3203 4.2344-0.20312 1.2266 1.1133 1.3203 3.0117 0.20312 4.2344l-15.293 16.832c-2.6055 2.8711-7.2461 2.8711-9.8516 0l-5.293-5.8242c-1.1172-1.2266-1.0234-3.125 0.20312-4.2383 1.2227-1.1133 3.1211-1.0234 4.2344 0.20312l5.043 5.5469c0.1875 0.20703 0.45703 0.32812 0.73828 0.32812s0.55078-0.12109 0.73828-0.32812z" fill-rule="evenodd"/>
                  <path d="m15 19c0-4.9688 4.0312-9 9-9h52c4.9688 0 9 4.0312 9 9v48c0 3.5352-2.0352 6.5938-5 8.0664v8.9336h2c1.6562 0 3 1.3438 3 3s-1.3438 3-3 3h-58c-4.9688 0-9-4.0312-9-9zm61 57c0.6875 0 1.3555-0.078125 2-0.22266v8.2227h-53c-2.2109 0-4-1.7891-4-4s1.7891-4 4-4zm-52-64c-3.8672 0-7 3.1328-7 7v62c0 3.8672 3.1328 7 7 7h58c0.55078 0 1-0.44922 1-1s-0.44922-1-1-1h-57c-3.3125 0-6-2.6875-6-6s2.6875-6 6-6h51c3.8672 0 7-3.1328 7-7v-48c0-3.8672-3.1328-7-7-7z" fill-rule="evenodd"/>
                </svg>
              </svg>
              <!-- Active Icon (hidden by default) -->
              <svg id="closedCover-icon-active" class="closedCover-icon hidden" fill="currentColor" viewBox="0 0 24 24" width="50" height="50">
                <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 100 100">
                  <path d="m24 10c-4.9688 0-9 4.0312-9 9v62c0 4.9688 4.0312 9 9 9h58c1.6562 0 3-1.3438 3-3s-1.3438-3-3-3h-2v-8.9336c2.9648-1.4727 5-4.5312 5-8.0664v-48c0-4.9688-4.0312-9-9-9zm54 65.777v8.2227h-53c-2.2109 0-4-1.7891-4-4s1.7891-4 4-4h51c0.6875 0 1.3555-0.078125 2-0.22266zm-18.699-44.141c1.8555-2.043 5.0195-2.1953 7.0625-0.33594 2.043 1.8555 2.1953 5.0195 0.33594 7.0625l-15.293 16.832c-3.3984 3.7383-9.4141 3.7383-12.812 0l-5.293-5.8281c-1.8594-2.043-1.707-5.207 0.33594-7.0625 2.043-1.8555 5.207-1.707 7.0625 0.33984l4.3008 4.7305z" fill-rule="evenodd"/>
                </svg>
              </svg>
            </button>
            <!--dustyShelves cover -->
            <button type="button" class="dustyShelves-icon-wrapper mr-2" id="dustyShelves-toggle-button" data-tooltip-inactive="Add to My Dusty Shelves List" data-tooltip-active="Remove from My Dusty Shelves List" data-tooltip="Add to My Dusty Shelves List">
              <!-- Default Icon -->
              <svg id="dustyShelves-icon-default" class="dustyShelves-icon" fill="currentColor" viewBox="0 0 24 24" width="50" height="50">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 5 55 50" xml:space="preserve">
                  <path d="M40.1549072,6c-4.4111328,0-8.3378906,2.0809326-10.875061,5.3046875H12.0426025 c-3.3320313,0-6.0424805,2.7109375-6.0424805,6.0429688V48.375h0.0174561 c0.0784302,1.3699951,0.6101685,2.6552124,1.5543213,3.6845703C8.7022705,53.2929688,10.3096924,54,11.9820557,54h24.5639648 l0.5791016-0.0224609l0.5961914-0.9443359l-0.2089844-0.4931641c-1.3984375-3.3007813-1.4091797-6.2392578-0.0336914-8.9833984 h-0.0004883l0.2509766-0.5390625l-0.1079102-0.1691895v-9.401001c0.8226929,0.1529541,1.6673584,0.243042,2.5336914,0.243042 c7.6342773,0,13.8452148-6.2109375,13.8452148-13.8447266C54.0001221,12.2109375,47.7891846,6,40.1549072,6z M11.9820557,52 c-1.1132813,0-2.1835938-0.4707031-2.9360352-1.2919922c-0.7631836-0.8320313-1.1289063-1.9150391-1.0302734-3.0488281 c0.1767578-2.0322266,2.0322266-3.6230469,4.2246094-3.6230469h22.8642578 c-0.3808594,1.0802002-0.5818481,2.1954346-0.6239014,3.3388672H12.8843994v2h21.6916504 c0.1117554,0.8609619,0.3037109,1.7352295,0.5969238,2.625H11.9820557z M35.6212158,42.0361328H12.2403564 c-1.6221924,0-3.1190796,0.6081543-4.2402344,1.6014404v-26.289917c0-2.2294922,1.8134766-4.0429688,4.0424805-4.0429688h15.914856 c-1.0494995,1.9493408-1.6477661,4.1762085-1.6477661,6.5410156c0,6.0444336,3.9003906,11.1834106,9.3115234,13.0668335V42.0361328z M40.1549072,31.6904297c-6.53125,0-11.8452148-5.3134766-11.8452148-11.8447266C28.3096924,13.3134766,33.6236572,8,40.1549072,8 s11.8452148,5.3134766,11.8452148,11.8457031C52.0001221,26.3769531,46.6861572,31.6904297,40.1549072,31.6904297z"/>
                  <rect x="16.5460205" y="36.421875" width="10.5297852" height="2"/>
                  <rect x="16.5460205" y="30.8066406" width="10.5297852" height="2"/>
                  <path d="M40.1549072,9.9003906c-5.4838867,0-9.9453125,4.4619141-9.9453125,9.9453125s4.4614258,9.9453125,9.9453125,9.9453125 s9.9453125-4.4619141,9.9453125-9.9453125S45.6387939,9.9003906,40.1549072,9.9003906z M40.1549072,11.9003906 c1.8305054,0,3.5136108,0.628479,4.8585815,1.6726685L33.8822632,24.7042847 c-1.0441895-1.3449707-1.6726685-3.0280762-1.6726685-4.8585815C32.2095947,15.4648438,35.7740479,11.9003906,40.1549072,11.9003906 z M40.1549072,27.7910156c-1.8305054,0-3.5136108-0.628479-4.8585815-1.6726685l11.1312256-11.1312256 c1.0441895,1.3449707,1.6726685,3.0280762,1.6726685,4.8585815C48.1002197,24.2265625,44.5357666,27.7910156,40.1549072,27.7910156z"/>
                </svg>
              </svg>
              <!-- Active Icon -->
              <svg id="dustyShelves-icon-active" class="dustyShelves-icon hidden" fill="currentColor" viewBox="0 0 24 24" width="50" height="50">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 5 55 50" xml:space="preserve">
                  <g>
                    <path d="M47.9209251,13.6223145l-12.143158,12.1431561c1.4672432,1.1391144,3.3033562,1.824728,5.3002739,1.824728 c4.7791176,0,8.667614-3.8884945,8.667614-8.667614C49.7456551,16.9256706,49.0600395,15.0895548,47.9209251,13.6223145z"/>
                    <path d="M11.3283949,51.136364v-2.1818199h23.5596123c0.0458794-1.2473793,0.2651367-2.4640007,0.6806221-3.6423988H10.625802 c-2.3916903,0-4.4158378,1.7354393-4.6086645,3.9524155c-0.1075993,1.2368584,0.2913709,2.4183235,1.1239347,3.3259926 C7.9619174,53.4865074,9.1295309,54,10.3440199,54h25.2991829c-0.31987-0.9706573-0.529274-1.9244041-0.6511917-2.863636 H11.3283949z"/>
                    <path d="M41.0780411,10.2549715c-4.7791214,0-8.667614,3.8884945-8.667614,8.667613 c0,1.9969158,0.6856117,3.8330307,1.8247299,5.300272l12.1431541-12.1431561 C44.911068,10.9405851,43.074955,10.2549715,41.0780411,10.2549715z"/>
                    <path d="M25.9741688,18.9225845c0-2.5797882,0.6526546-5.009099,1.7975636-7.1356525H10.4100704 c-2.4316401,0-4.4099784,1.9783382-4.4099784,4.410511v28.6799107c1.2230783-1.0835876,2.8560462-1.7470284,4.62571-1.7470284 h25.5063934v-9.9530144C30.2291412,31.1226692,25.9741688,25.5165119,25.9741688,18.9225845z M26.8099289,39.1875H15.3228903 v-2.1818199h11.4870386V39.1875z M26.8099289,33.0617905H15.3228903v-2.181818h11.4870386V33.0617905z"/>
                    <path d="M41.0780411,6c-7.125,0-12.9220543,5.7965202-12.9220543,12.9225845c0,7.125,5.7970543,12.9215202,12.9220543,12.9215202 s12.9220505-5.7965202,12.9220505-12.9215202C54.0000916,11.7965202,48.2030411,6,41.0780411,6z M41.0780411,29.7720165 c-5.9824219,0-10.8494339-4.8675423-10.8494339-10.849432s4.867012-10.849431,10.8494339-10.849431 s10.8494301,4.8675423,10.8494301,10.849431S47.060463,29.7720165,41.0780411,29.7720165z"/>
                  </g>
                </svg>
              </svg>
            </button>
          </form>
          </div>
        `;

        controlWrapper.appendChild(starRating);
        controlWrapper.appendChild(buttonRow);
        rightControls.appendChild(controlWrapper);

        bookDiv.appendChild(imgContainer);
        bookDiv.appendChild(infoDiv);
        bookDiv.appendChild(rightControls);
        bookListEl.appendChild(bookDiv);
      });
    }

    function updatePagination() {
      totalPages = Math.ceil(books.length / booksPerPage);
      
      // Update previous button
      prevBtn.disabled = currentPage === 1;
      
      // Update next button
      nextBtn.disabled = currentPage === totalPages;
      
      // Update page numbers
      pageNumbersEl.innerHTML = '';
      const maxVisiblePages = 5;
      let startPage = Math.max(1, currentPage - Math.floor(maxVisiblePages / 2));
      let endPage = Math.min(totalPages, startPage + maxVisiblePages - 1);
      
      if (endPage - startPage + 1 < maxVisiblePages) {
        startPage = Math.max(1, endPage - maxVisiblePages + 1);
      }
      
      if (startPage > 1) {
        const firstPageBtn = document.createElement('button');
        firstPageBtn.textContent = '1';
        firstPageBtn.addEventListener('click', () => goToPage(1));
        pageNumbersEl.appendChild(firstPageBtn);
        
        if (startPage > 2) {
          const ellipsis = document.createElement('span');
          ellipsis.textContent = '...';
          ellipsis.className = 'ellipsis';
          pageNumbersEl.appendChild(ellipsis);
        }
      }
      
      for (let i = startPage; i <= endPage; i++) {
        const pageBtn = document.createElement('button');
        pageBtn.textContent = i;
        if (i === currentPage) {
          pageBtn.classList.add('active');
        }
        pageBtn.addEventListener('click', () => goToPage(i));
        pageNumbersEl.appendChild(pageBtn);
      }
      
      if (endPage < totalPages) {
        if (endPage < totalPages - 1) {
          const ellipsis = document.createElement('span');
          ellipsis.textContent = '...';
          ellipsis.className = 'ellipsis';
          pageNumbersEl.appendChild(ellipsis);
        }
        
        const lastPageBtn = document.createElement('button');
        lastPageBtn.textContent = totalPages;
        lastPageBtn.addEventListener('click', () => goToPage(totalPages));
        pageNumbersEl.appendChild(lastPageBtn);
      }
    }

    function goToPage(page) {
      if (page < 1 || page > totalPages) return;
      currentPage = page;
      renderBooks();
      updatePagination();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Event listeners
    prevBtn.addEventListener('click', () => goToPage(currentPage - 1));
    nextBtn.addEventListener('click', () => goToPage(currentPage + 1));

    // Initialize
    fetchBooks('classic literature').then(fetchedBooks => {
      books = fetchedBooks;
      totalPages = Math.ceil(books.length / booksPerPage);
      renderBooks();
      updatePagination();
      setupToggleButtons();
    });
  </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>